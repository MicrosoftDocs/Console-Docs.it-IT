---
title: Creazione di una console
description: Il sistema crea una nuova console quando avvia un processo della console, un processo in modalità carattere il cui punto di ingresso è la funzione principale.
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: Console, applicazioni in modalità carattere, applicazioni da riga di comando, applicazioni Terminal, API console
MS-HAID:
- '\_win32\_creation\_of\_a\_console'
- base.creation\_of\_a\_console
- consoles.creation\_of\_a\_console
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 84ec2559-cade-447e-8594-5b824d3d3e81
ms.openlocfilehash: b3b4143596035fed6896243043853932ae68233f
ms.sourcegitcommit: b75f4688e080d300b80c552d0711fdd86b9974bf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/24/2020
ms.locfileid: "89059897"
---
# <a name="creation-of-a-console"></a><span data-ttu-id="aeea2-104">Creazione di una console</span><span class="sxs-lookup"><span data-stu-id="aeea2-104">Creation of a Console</span></span>


<span data-ttu-id="aeea2-105">Il sistema crea una nuova console quando avvia un *processo della console*, un processo in modalità carattere il cui punto di ingresso è la funzione **principale** .</span><span class="sxs-lookup"><span data-stu-id="aeea2-105">The system creates a new console when it starts a *console process*, a character-mode process whose entry point is the **main** function.</span></span> <span data-ttu-id="aeea2-106">Ad esempio, il sistema crea una nuova console all'avvio del processore dei comandi.</span><span class="sxs-lookup"><span data-stu-id="aeea2-106">For example, the system creates a new console when it starts the command processor.</span></span> <span data-ttu-id="aeea2-107">Quando il processore dei comandi avvia un nuovo processo console, l'utente può specificare se il sistema crea una nuova console per il nuovo processo o se eredita la console del processore dei comandi.</span><span class="sxs-lookup"><span data-stu-id="aeea2-107">When the command processor starts a new console process, the user can specify whether the system creates a new console for the new process or whether it inherits the command processor's console.</span></span>

<span data-ttu-id="aeea2-108">Un processo può creare una console utilizzando uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="aeea2-108">A process can create a console by using one of the following methods:</span></span>

- <span data-ttu-id="aeea2-109">Un processo della GUI o della console può usare la funzione [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) con **Create \_ New \_ console** per creare un processo della console con una nuova console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-109">A GUI or console process can use the [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) function with **CREATE\_NEW\_CONSOLE** to create a console process with a new console.</span></span> <span data-ttu-id="aeea2-110">Per impostazione predefinita, un processo console eredita la console padre e non vi è alcuna garanzia che l'input venga ricevuto dal processo per cui è stato progettato.</span><span class="sxs-lookup"><span data-stu-id="aeea2-110">(By default, a console process inherits its parent's console, and there is no guarantee that input is received by the process for which it was intended.)</span></span>
- <span data-ttu-id="aeea2-111">Un'interfaccia utente grafica (GUI) o un processo console che non è attualmente collegato a una console di può utilizzare la funzione [**AllocConsole**](allocconsole.md) per creare una nuova console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-111">A graphical user interface (GUI) or console process that is not currently attached to a console can use the [**AllocConsole**](allocconsole.md) function to create a new console.</span></span> <span data-ttu-id="aeea2-112">I processi GUI non sono collegati a una console quando vengono creati.</span><span class="sxs-lookup"><span data-stu-id="aeea2-112">(GUI processes are not attached to a console when they are created.</span></span> <span data-ttu-id="aeea2-113">I processi della console non sono collegati a una console se vengono creati utilizzando [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) con \*\* \_ processo scollegato\*\*.</span><span class="sxs-lookup"><span data-stu-id="aeea2-113">Console processes are not attached to a console if they are created using [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) with **DETACHED\_PROCESS**.)</span></span>

<span data-ttu-id="aeea2-114">In genere, un processo USA [**AllocConsole**](allocconsole.md) per creare una console quando si verifica un errore che richiede l'interazione con l'utente.</span><span class="sxs-lookup"><span data-stu-id="aeea2-114">Typically, a process uses [**AllocConsole**](allocconsole.md) to create a console when an error occurs requiring interaction with the user.</span></span> <span data-ttu-id="aeea2-115">Un processo GUI, ad esempio, può creare una console quando si verifica un errore che impedisce di usare l'interfaccia grafica normale oppure un processo console che in genere non interagisce con l'utente può creare una console per visualizzare un errore.</span><span class="sxs-lookup"><span data-stu-id="aeea2-115">For example, a GUI process can create a console when an error occurs that prevents it from using its normal graphical interface, or a console process that does not normally interact with the user can create a console to display an error.</span></span>

<span data-ttu-id="aeea2-116">Un processo può anche creare una console specificando il flag **Crea \_ nuova \_ console** in una chiamata a [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425).</span><span class="sxs-lookup"><span data-stu-id="aeea2-116">A process can also create a console by specifying the **CREATE\_NEW\_CONSOLE** flag in a call to [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425).</span></span> <span data-ttu-id="aeea2-117">Questo metodo crea una nuova console accessibile al processo figlio ma non al processo padre.</span><span class="sxs-lookup"><span data-stu-id="aeea2-117">This method creates a new console that is accessible to the child process but not to the parent process.</span></span> <span data-ttu-id="aeea2-118">Le console separate consentono ai processi padre e figlio di interagire con l'utente senza conflitti.</span><span class="sxs-lookup"><span data-stu-id="aeea2-118">Separate consoles enable both parent and child processes to interact with the user without conflict.</span></span> <span data-ttu-id="aeea2-119">Se questo flag non viene specificato quando viene creato un processo della console, entrambi i processi sono collegati alla stessa console e non è garantito che il processo corretto riceva l'input desiderato.</span><span class="sxs-lookup"><span data-stu-id="aeea2-119">If this flag is not specified when a console process is created, both processes are attached to the same console, and there is no guarantee that the correct process will receive the input intended for it.</span></span> <span data-ttu-id="aeea2-120">Le applicazioni possono impedire confusione creando processi figlio che non ereditano gli handle del buffer di input o abilitando solo un processo figlio alla volta per ereditare un handle del buffer di input, impedendo al processo padre di leggere l'input della console fino al completamento dell'elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="aeea2-120">Applications can prevent confusion by creating child processes that do not inherit handles of the input buffer, or by enabling only one child process at a time to inherit an input buffer handle while preventing the parent process from reading console input until the child has finished.</span></span>

<span data-ttu-id="aeea2-121">La creazione di una nuova console comporta la creazione di una nuova finestra della console, nonché I buffer dello schermo di I/O separati.</span><span class="sxs-lookup"><span data-stu-id="aeea2-121">Creating a new console results in a new console window, as well as separate I/O screen buffers.</span></span> <span data-ttu-id="aeea2-122">Il processo associato alla nuova console usa la funzione [**GetStdHandle**](getstdhandle.md) per ottenere gli handle dei buffer di input e dello schermo della nuova console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-122">The process associated with the new console uses the [**GetStdHandle**](getstdhandle.md) function to get the handles of the new console's input and screen buffers.</span></span> <span data-ttu-id="aeea2-123">Questi handle consentono al processo di accedere alla console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-123">These handles enable the process to access the console.</span></span>

<span data-ttu-id="aeea2-124">Quando un processo USA [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425), può specificare una struttura [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) , i cui membri controllano le caratteristiche della prima nuova console (se presente) creata per il processo figlio.</span><span class="sxs-lookup"><span data-stu-id="aeea2-124">When a process uses [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425), it can specify a [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) structure, whose members control the characteristics of the first new console (if any) created for the child process.</span></span> <span data-ttu-id="aeea2-125">La struttura **STARTUPINFO** specificata nella chiamata a **CreateProcess** influisca su una console creata se viene specificato il flag **Create \_ New \_ console** .</span><span class="sxs-lookup"><span data-stu-id="aeea2-125">The **STARTUPINFO** structure specified in the call to **CreateProcess** affects a console created if the **CREATE\_NEW\_CONSOLE** flag is specified.</span></span> <span data-ttu-id="aeea2-126">Influiscono anche su una console creata se il processo figlio usa successivamente [**AllocConsole**](allocconsole.md).</span><span class="sxs-lookup"><span data-stu-id="aeea2-126">It also affects a console created if the child process subsequently uses [**AllocConsole**](allocconsole.md).</span></span> <span data-ttu-id="aeea2-127">È possibile specificare le seguenti caratteristiche della console:</span><span class="sxs-lookup"><span data-stu-id="aeea2-127">The following console characteristics can be specified:</span></span>

- <span data-ttu-id="aeea2-128">Dimensioni della nuova finestra della console, in celle di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="aeea2-128">Size of the new console window, in character cells</span></span>
- <span data-ttu-id="aeea2-129">Posizione della nuova finestra della console, in coordinate pixel dello schermo</span><span class="sxs-lookup"><span data-stu-id="aeea2-129">Location of the new console window, in screen pixel coordinates</span></span>
- <span data-ttu-id="aeea2-130">Dimensioni del buffer dello schermo della nuova console, in celle di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="aeea2-130">Size of the new console's screen buffer, in character cells</span></span>
- <span data-ttu-id="aeea2-131">Attributi del colore di sfondo e di testo del buffer dello schermo della nuova console</span><span class="sxs-lookup"><span data-stu-id="aeea2-131">Text and background color attributes of the new console's screen buffer</span></span>
- <span data-ttu-id="aeea2-132">Nome visualizzato per la barra del titolo della finestra della nuova console</span><span class="sxs-lookup"><span data-stu-id="aeea2-132">Display name for the title bar of the new console's window</span></span>

<span data-ttu-id="aeea2-133">Il sistema usa i valori predefiniti se i valori [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) non sono specificati.</span><span class="sxs-lookup"><span data-stu-id="aeea2-133">The system uses default values if the [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) values are not specified.</span></span> <span data-ttu-id="aeea2-134">Un processo figlio può utilizzare la funzione [**GetStartupInfo**](https://msdn.microsoft.com/library/windows/desktop/ms683230) per determinare i valori nella struttura **STARTUPINFO** .</span><span class="sxs-lookup"><span data-stu-id="aeea2-134">A child process can use the [**GetStartupInfo**](https://msdn.microsoft.com/library/windows/desktop/ms683230) function to determine the values in its **STARTUPINFO** structure.</span></span>

<span data-ttu-id="aeea2-135">Un processo non può modificare la posizione della finestra della console sullo schermo, ma sono disponibili le funzioni console seguenti per impostare o recuperare le altre proprietà specificate nella struttura [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) .</span><span class="sxs-lookup"><span data-stu-id="aeea2-135">A process cannot change the location of its console window on the screen, but the following console functions are available to set or retrieve the other properties specified in the [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) structure.</span></span>


| <span data-ttu-id="aeea2-136">Funzione</span><span class="sxs-lookup"><span data-stu-id="aeea2-136">Function</span></span>                                                         | <span data-ttu-id="aeea2-137">Descrizione</span><span class="sxs-lookup"><span data-stu-id="aeea2-137">Description</span></span>                                                          |
|------------------------------------------------------------------|----------------------------------------------------------------------|
| [<span data-ttu-id="aeea2-138">**GetConsoleScreenBufferInfo**</span><span class="sxs-lookup"><span data-stu-id="aeea2-138">**GetConsoleScreenBufferInfo**</span></span>](getconsolescreenbufferinfo.md) | <span data-ttu-id="aeea2-139">Recupera le dimensioni della finestra, le dimensioni del buffer dello schermo e gli attributi di colore.</span><span class="sxs-lookup"><span data-stu-id="aeea2-139">Retrieves the window size, screen buffer size, and color attributes.</span></span> |
| [<span data-ttu-id="aeea2-140">**SetConsoleWindowInfo**</span><span class="sxs-lookup"><span data-stu-id="aeea2-140">**SetConsoleWindowInfo**</span></span>](setconsolewindowinfo.md)             | <span data-ttu-id="aeea2-141">Modifica la dimensione della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-141">Changes the size of the console window.</span></span>                              |
| [<span data-ttu-id="aeea2-142">**SetConsoleScreenBufferSize**</span><span class="sxs-lookup"><span data-stu-id="aeea2-142">**SetConsoleScreenBufferSize**</span></span>](setconsolescreenbuffersize.md) | <span data-ttu-id="aeea2-143">Modifica la dimensione del buffer dello schermo della console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-143">Changes the size of the console screen buffer.</span></span>                       |
| [<span data-ttu-id="aeea2-144">**SetConsoleTextAttribute**</span><span class="sxs-lookup"><span data-stu-id="aeea2-144">**SetConsoleTextAttribute**</span></span>](setconsoletextattribute.md)       | <span data-ttu-id="aeea2-145">Imposta gli attributi di colore.</span><span class="sxs-lookup"><span data-stu-id="aeea2-145">Sets the color attributes.</span></span>                                           |
| [<span data-ttu-id="aeea2-146">**SetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="aeea2-146">**SetConsoleTitle**</span></span>](setconsoletitle.md)                       | <span data-ttu-id="aeea2-147">Imposta il titolo della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-147">Sets the console window title.</span></span>                                       |
| [<span data-ttu-id="aeea2-148">**GetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="aeea2-148">**GetConsoleTitle**</span></span>](getconsoletitle.md)                       | <span data-ttu-id="aeea2-149">Recupera il titolo della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="aeea2-149">Retrieves the console window title.</span></span>                                  |




<span data-ttu-id="aeea2-150">Un processo può usare la funzione [**FreeConsole**](freeconsole.md) per scollegarsi da una console ereditata o da una console creata da [**AllocConsole**](allocconsole.md).</span><span class="sxs-lookup"><span data-stu-id="aeea2-150">A process can use the [**FreeConsole**](freeconsole.md) function to detach itself from an inherited console or from a console created by [**AllocConsole**](allocconsole.md).</span></span>








