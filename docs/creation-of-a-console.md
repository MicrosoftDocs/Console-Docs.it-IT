---
title: Creazione di una console
description: Il sistema crea una nuova console quando avvia un processo della console, un processo in modalità carattere il cui punto di ingresso è la funzione principale.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: console, applicazioni in modalità carattere, applicazioni da riga di comando, applicazioni di terminale, api della console
MS-HAID:
- '\_win32\_creation\_of\_a\_console'
- base.creation\_of\_a\_console
- consoles.creation\_of\_a\_console
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 84ec2559-cade-447e-8594-5b824d3d3e81
ms.localizationpriority: high
ms.openlocfilehash: bf7993874c4f7c7031dbbcc9ce53a0610157eb75
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/14/2021
ms.locfileid: "100357921"
---
# <a name="creation-of-a-console"></a><span data-ttu-id="eecf5-104">Creazione di una console</span><span class="sxs-lookup"><span data-stu-id="eecf5-104">Creation of a Console</span></span>

<span data-ttu-id="eecf5-105">Il sistema crea una nuova console quando avvia un *processo della console*, un processo in modalità carattere il cui punto di ingresso è la funzione **principale**.</span><span class="sxs-lookup"><span data-stu-id="eecf5-105">The system creates a new console when it starts a *console process*, a character-mode process whose entry point is the **main** function.</span></span> <span data-ttu-id="eecf5-106">Ad esempio, il sistema crea una nuova console quando avvia il processore dei comandi `cmd.exe`.</span><span class="sxs-lookup"><span data-stu-id="eecf5-106">For example, the system creates a new console when it starts the command processor `cmd.exe`.</span></span> <span data-ttu-id="eecf5-107">Quando il processore dei comandi avvia un nuovo processo della console, l'utente può specificare se il sistema crea una nuova console per il nuovo processo o se eredita la console del processore dei comandi.</span><span class="sxs-lookup"><span data-stu-id="eecf5-107">When the command processor starts a new console process, the user can specify whether the system creates a new console for the new process or whether it inherits the command processor's console.</span></span>

<span data-ttu-id="eecf5-108">Un processo può creare una console usando uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="eecf5-108">A process can create a console by using one of the following methods:</span></span>

- <span data-ttu-id="eecf5-109">Un processo dell'interfaccia utente grafica o della console può usare la funzione [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) con **CREATE\_NEW\_CONSOLE** per creare un processo della console con una nuova console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-109">A graphical user interface (GUI) or console process can use the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) function with **CREATE\_NEW\_CONSOLE** to create a console process with a new console.</span></span> <span data-ttu-id="eecf5-110">Per impostazione predefinita, un processo della console eredita la console padre e non vi è alcuna garanzia che l'input venga ricevuto dal processo per cui è stato progettato.</span><span class="sxs-lookup"><span data-stu-id="eecf5-110">(By default, a console process inherits its parent's console, and there is no guarantee that input is received by the process for which it was intended.)</span></span>
- <span data-ttu-id="eecf5-111">Un processo dell'interfaccia utente grafica o della console che non è attualmente collegato a una console può usare la funzione [**AllocConsole**](allocconsole.md) per creare una nuova console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-111">A GUI or console process that is not currently attached to a console can use the [**AllocConsole**](allocconsole.md) function to create a new console.</span></span> <span data-ttu-id="eecf5-112">Quando vengono creati, i processi dell'interfaccia utente grafica non sono collegati a una console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-112">(GUI processes are not attached to a console when they are created.</span></span> <span data-ttu-id="eecf5-113">I processi della console non sono collegati a una console se vengono creati usando [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) con **DETACHED\_PROCESS**.</span><span class="sxs-lookup"><span data-stu-id="eecf5-113">Console processes are not attached to a console if they are created using [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) with **DETACHED\_PROCESS**.)</span></span>

<span data-ttu-id="eecf5-114">In genere, un processo usa [**AllocConsole**](allocconsole.md) per creare una console quando si verifica un errore che richiede l'interazione con l'utente.</span><span class="sxs-lookup"><span data-stu-id="eecf5-114">Typically, a process uses [**AllocConsole**](allocconsole.md) to create a console when an error occurs requiring interaction with the user.</span></span> <span data-ttu-id="eecf5-115">Un processo dell'interfaccia utente grafica, ad esempio, può creare una console quando si verifica un errore che impedisce di usare l'interfaccia grafica normale oppure un processo della console, che in genere non interagisce con l'utente, può creare una console per visualizzare un errore.</span><span class="sxs-lookup"><span data-stu-id="eecf5-115">For example, a GUI process can create a console when an error occurs that prevents it from using its normal graphical interface, or a console process that does not normally interact with the user can create a console to display an error.</span></span>

<span data-ttu-id="eecf5-116">Un processo può creare una console anche specificando il contrassegno **CREATE\_NEW\_CONSOLE** in una chiamata a [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa).</span><span class="sxs-lookup"><span data-stu-id="eecf5-116">A process can also create a console by specifying the **CREATE\_NEW\_CONSOLE** flag in a call to [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa).</span></span> <span data-ttu-id="eecf5-117">Questo metodo crea una nuova console accessibile al processo figlio, ma non al processo padre.</span><span class="sxs-lookup"><span data-stu-id="eecf5-117">This method creates a new console that is accessible to the child process but not to the parent process.</span></span> <span data-ttu-id="eecf5-118">Console separate consentono ai processi padre e figlio di interagire con l'utente senza conflitti.</span><span class="sxs-lookup"><span data-stu-id="eecf5-118">Separate consoles enable both parent and child processes to interact with the user without conflict.</span></span> <span data-ttu-id="eecf5-119">Se questo contrassegno non viene specificato al momento della creazione di un processo della console, entrambi i processi vengono collegati alla stessa console e non è garantito che il processo corretto riceva l'input previsto.</span><span class="sxs-lookup"><span data-stu-id="eecf5-119">If this flag is not specified when a console process is created, both processes are attached to the same console, and there is no guarantee that the correct process will receive the input intended for it.</span></span> <span data-ttu-id="eecf5-120">Le applicazioni possono impedire che si generi confusione creando processi figlio che non ereditano gli handle del buffer di input o abilitando solo un processo figlio alla volta per ereditare un handle del buffer di input, impedendo al processo padre di leggere l'input della console fino al completamento dell'elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="eecf5-120">Applications can prevent confusion by creating child processes that do not inherit handles of the input buffer, or by enabling only one child process at a time to inherit an input buffer handle while preventing the parent process from reading console input until the child has finished.</span></span>

<span data-ttu-id="eecf5-121">La creazione di una nuova console comporta la creazione di una nuova finestra della console, nonché buffer dello schermo di I/O separati.</span><span class="sxs-lookup"><span data-stu-id="eecf5-121">Creating a new console results in a new console window, as well as separate I/O screen buffers.</span></span> <span data-ttu-id="eecf5-122">Il processo associato alla nuova console usa la funzione [**GetStdHandle**](getstdhandle.md) per ottenere gli handle dei buffer di input e dello schermo della nuova console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-122">The process associated with the new console uses the [**GetStdHandle**](getstdhandle.md) function to get the handles of the new console's input and screen buffers.</span></span> <span data-ttu-id="eecf5-123">Questi handle consentono al processo di accedere alla console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-123">These handles enable the process to access the console.</span></span>

<span data-ttu-id="eecf5-124">Quando un processo usa [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), può specificare una struttura [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa), i cui membri controllano le caratteristiche della prima nuova console (se presente) creata per il processo figlio.</span><span class="sxs-lookup"><span data-stu-id="eecf5-124">When a process uses [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), it can specify a [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa) structure, whose members control the characteristics of the first new console (if any) created for the child process.</span></span> <span data-ttu-id="eecf5-125">La struttura **STARTUPINFO**, specificata nella chiamata a **CreateProcess**, influisce su una console creata se è stato specificato il contrassegno **CREATE\_NEW\_CONSOLE**.</span><span class="sxs-lookup"><span data-stu-id="eecf5-125">The **STARTUPINFO** structure specified in the call to **CreateProcess** affects a console created if the **CREATE\_NEW\_CONSOLE** flag is specified.</span></span> <span data-ttu-id="eecf5-126">Influisce, inoltre, su una console creata se il processo figlio usa successivamente [**AllocConsole**](allocconsole.md).</span><span class="sxs-lookup"><span data-stu-id="eecf5-126">It also affects a console created if the child process subsequently uses [**AllocConsole**](allocconsole.md).</span></span> <span data-ttu-id="eecf5-127">È possibile specificare le caratteristiche della console seguenti:</span><span class="sxs-lookup"><span data-stu-id="eecf5-127">The following console characteristics can be specified:</span></span>

- <span data-ttu-id="eecf5-128">Dimensioni della nuova finestra della console, in celle di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="eecf5-128">Size of the new console window, in character cells</span></span>
- <span data-ttu-id="eecf5-129">Posizione della nuova finestra della console, in coordinate pixel dello schermo</span><span class="sxs-lookup"><span data-stu-id="eecf5-129">Location of the new console window, in screen pixel coordinates</span></span>
- <span data-ttu-id="eecf5-130">Dimensioni del buffer dello schermo della console, in celle di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="eecf5-130">Size of the new console's screen buffer, in character cells</span></span>
- <span data-ttu-id="eecf5-131">Attributi del colore di sfondo e di testo del buffer dello schermo della nuova console</span><span class="sxs-lookup"><span data-stu-id="eecf5-131">Text and background color attributes of the new console's screen buffer</span></span>
- <span data-ttu-id="eecf5-132">Nome visualizzato per la barra del titolo della finestra della nuova console</span><span class="sxs-lookup"><span data-stu-id="eecf5-132">Display name for the title bar of the new console's window</span></span>

<span data-ttu-id="eecf5-133">Il sistema usa valori predefiniti se non vengono specificati i valori di [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa).</span><span class="sxs-lookup"><span data-stu-id="eecf5-133">The system uses default values if the [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa) values are not specified.</span></span> <span data-ttu-id="eecf5-134">Un processo figlio può usare la funzione [**GetStartupInfo**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getstartupinfow) per determinare i valori nella relativa struttura **STARTUPINFO**.</span><span class="sxs-lookup"><span data-stu-id="eecf5-134">A child process can use the [**GetStartupInfo**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getstartupinfow) function to determine the values in its **STARTUPINFO** structure.</span></span>

<span data-ttu-id="eecf5-135">Un processo non può modificare la posizione della finestra della console sullo schermo, ma sono disponibili le funzioni della console seguenti per impostare o recuperare le altre proprietà specificate nella struttura [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa).</span><span class="sxs-lookup"><span data-stu-id="eecf5-135">A process cannot change the location of its console window on the screen, but the following console functions are available to set or retrieve the other properties specified in the [**STARTUPINFO**](/windows/win32/api/processthreadsapi/ns-processthreadsapi-startupinfoa) structure.</span></span>

| <span data-ttu-id="eecf5-136">Funzione</span><span class="sxs-lookup"><span data-stu-id="eecf5-136">Function</span></span> | <span data-ttu-id="eecf5-137">Descrizione</span><span class="sxs-lookup"><span data-stu-id="eecf5-137">Description</span></span> |
|-|-|
| [<span data-ttu-id="eecf5-138">**GetConsoleScreenBufferInfo**</span><span class="sxs-lookup"><span data-stu-id="eecf5-138">**GetConsoleScreenBufferInfo**</span></span>](getconsolescreenbufferinfo.md) | <span data-ttu-id="eecf5-139">Recupera le dimensioni della finestra, le dimensioni del buffer dello schermo e gli attributi del colore.</span><span class="sxs-lookup"><span data-stu-id="eecf5-139">Retrieves the window size, screen buffer size, and color attributes.</span></span> |
| [<span data-ttu-id="eecf5-140">**SetConsoleWindowInfo**</span><span class="sxs-lookup"><span data-stu-id="eecf5-140">**SetConsoleWindowInfo**</span></span>](setconsolewindowinfo.md)  | <span data-ttu-id="eecf5-141">Modifica le dimensioni della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-141">Changes the size of the console window.</span></span>  |
| [<span data-ttu-id="eecf5-142">**SetConsoleScreenBufferSize**</span><span class="sxs-lookup"><span data-stu-id="eecf5-142">**SetConsoleScreenBufferSize**</span></span>](setconsolescreenbuffersize.md) | <span data-ttu-id="eecf5-143">Modifica le dimensioni del buffer dello schermo della console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-143">Changes the size of the console screen buffer.</span></span> |
| [<span data-ttu-id="eecf5-144">**SetConsoleTextAttribute**</span><span class="sxs-lookup"><span data-stu-id="eecf5-144">**SetConsoleTextAttribute**</span></span>](setconsoletextattribute.md) | <span data-ttu-id="eecf5-145">Imposta gli attributi del colore.</span><span class="sxs-lookup"><span data-stu-id="eecf5-145">Sets the color attributes.</span></span>  |
| [<span data-ttu-id="eecf5-146">**SetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="eecf5-146">**SetConsoleTitle**</span></span>](setconsoletitle.md)  | <span data-ttu-id="eecf5-147">Imposta il titolo della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-147">Sets the console window title.</span></span> |
| [<span data-ttu-id="eecf5-148">**GetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="eecf5-148">**GetConsoleTitle**</span></span>](getconsoletitle.md)  | <span data-ttu-id="eecf5-149">Recupera il titolo della finestra della console.</span><span class="sxs-lookup"><span data-stu-id="eecf5-149">Retrieves the console window title.</span></span>  |

<span data-ttu-id="eecf5-150">Un processo può usare la funzione [**FreeConsole**](freeconsole.md) per scollegarsi da una console ereditata o da una console creata da [**AllocConsole**](allocconsole.md).</span><span class="sxs-lookup"><span data-stu-id="eecf5-150">A process can use the [**FreeConsole**](freeconsole.md) function to detach itself from an inherited console or from a console created by [**AllocConsole**](allocconsole.md).</span></span>

<span data-ttu-id="eecf5-151">Un processo può usare la funzione [**AttachConsole**](attachconsole.md) per collegarsi a un'altra sessione della console esistente dopo aver usato [**FreeConsole**](freeconsole.md) per scollegarsi dalla propria sessione (o se non è presente alcuna sessione collegata).</span><span class="sxs-lookup"><span data-stu-id="eecf5-151">A process can use the [**AttachConsole**](attachconsole.md) function to attach itself to another existing console session after using [**FreeConsole**](freeconsole.md) to detach from its own session (or if there is otherwise no attached session).</span></span>