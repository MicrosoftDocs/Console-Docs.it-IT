---
title: Struttura KEY_EVENT_RECORD
description: Descrive un evento di input da tastiera in una struttura di record di INPUT della console \_ .
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: console, applicazioni in modalità carattere, applicazioni da riga di comando, applicazioni di terminale, api della console
f1_keywords:
- wincontypes/KEY_EVENT_RECORD
- wincon/KEY_EVENT_RECORD
- KEY_EVENT_RECORD
- wincontypes/PKEY_EVENT_RECORD
- wincon/PKEY_EVENT_RECORD
- PKEY_EVENT_RECORD
MS-HAID:
- '\_win32\_key\_event\_record\_str'
- base.key\_event\_record\_str
- consoles.key\_event\_record\_str
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: b3fed86b-84ef-48e4-97e1-cb3d65f714a7
topic_type:
- apiref
api_name:
- KEY_EVENT_RECORD
api_location:
- WinCon.h
api_type:
- HeaderDef
ms.openlocfilehash: bcc58b90e71b848e3b6e4b0bf5ba162323830529
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/14/2021
ms.locfileid: "100357801"
---
# <a name="key_event_record-structure"></a><span data-ttu-id="7e8f5-104">Struttura del record dell' \_ evento chiave \_</span><span class="sxs-lookup"><span data-stu-id="7e8f5-104">KEY\_EVENT\_RECORD structure</span></span>

<span data-ttu-id="7e8f5-105">Descrive un evento di input da tastiera in una struttura di [**\_ record di input**](input-record-str.md) della console.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-105">Describes a keyboard input event in a console [**INPUT\_RECORD**](input-record-str.md) structure.</span></span>

## <a name="syntax"></a><span data-ttu-id="7e8f5-106">Sintassi</span><span class="sxs-lookup"><span data-stu-id="7e8f5-106">Syntax</span></span>

```C
typedef struct _KEY_EVENT_RECORD {
  BOOL  bKeyDown;
  WORD  wRepeatCount;
  WORD  wVirtualKeyCode;
  WORD  wVirtualScanCode;
  union {
    WCHAR UnicodeChar;
    CHAR  AsciiChar;
  } uChar;
  DWORD dwControlKeyState;
} KEY_EVENT_RECORD;
```

## <a name="members"></a><span data-ttu-id="7e8f5-107">Members</span><span class="sxs-lookup"><span data-stu-id="7e8f5-107">Members</span></span>

<span data-ttu-id="7e8f5-108">**bKeyDown**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-108">**bKeyDown**</span></span>  
<span data-ttu-id="7e8f5-109">Se il tasto è premuto, questo membro è **true**.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-109">If the key is pressed, this member is **TRUE**.</span></span> <span data-ttu-id="7e8f5-110">In caso contrario, questo membro è **false** (la chiave viene rilasciata).</span><span class="sxs-lookup"><span data-stu-id="7e8f5-110">Otherwise, this member is **FALSE** (the key is released).</span></span>

<span data-ttu-id="7e8f5-111">**wRepeatCount**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-111">**wRepeatCount**</span></span>  
<span data-ttu-id="7e8f5-112">Il numero di ripetizioni, che indica che una chiave viene mantenuta inattiva.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-112">The repeat count, which indicates that a key is being held down.</span></span> <span data-ttu-id="7e8f5-113">Ad esempio, quando un tasto è disattivato, è possibile che si ottengano cinque eventi con questo membro uguale a 1, un evento con questo membro uguale a 5 o più eventi con questo membro maggiore o uguale a 1.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-113">For example, when a key is held down, you might get five events with this member equal to 1, one event with this member equal to 5, or multiple events with this member greater than or equal to 1.</span></span>

<span data-ttu-id="7e8f5-114">**wVirtualKeyCode**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-114">**wVirtualKeyCode**</span></span>  
<span data-ttu-id="7e8f5-115">[Codice a chiave virtuale](/windows/win32/inputdev/virtual-key-codes) che identifica la chiave specificata in modo indipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-115">A [virtual-key code](/windows/win32/inputdev/virtual-key-codes) that identifies the given key in a device-independent manner.</span></span>

<span data-ttu-id="7e8f5-116">**wVirtualScanCode**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-116">**wVirtualScanCode**</span></span>  
<span data-ttu-id="7e8f5-117">Codice di analisi virtuale della chiave specificata che rappresenta il valore dipendente dal dispositivo generato dall'hardware della tastiera.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-117">The virtual scan code of the given key that represents the device-dependent value generated by the keyboard hardware.</span></span>

<span data-ttu-id="7e8f5-118">**uChar**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-118">**uChar**</span></span>  
<span data-ttu-id="7e8f5-119">Unione dei membri seguenti.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-119">A union of the following members.</span></span>

<span data-ttu-id="7e8f5-120">**UnicodeChar**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-120">**UnicodeChar**</span></span>  
<span data-ttu-id="7e8f5-121">Carattere Unicode tradotto.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-121">Translated Unicode character.</span></span>

<span data-ttu-id="7e8f5-122">**AsciiChar**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-122">**AsciiChar**</span></span>  
<span data-ttu-id="7e8f5-123">Carattere ASCII tradotto.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-123">Translated ASCII character.</span></span>

<span data-ttu-id="7e8f5-124">**dwControlKeyState**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-124">**dwControlKeyState**</span></span>  
<span data-ttu-id="7e8f5-125">Stato delle chiavi del controllo.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-125">The state of the control keys.</span></span> <span data-ttu-id="7e8f5-126">Il membro può essere costituito da uno o più dei valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-126">This member can be one or more of the following values.</span></span>

| <span data-ttu-id="7e8f5-127">Valore</span><span class="sxs-lookup"><span data-stu-id="7e8f5-127">Value</span></span> | <span data-ttu-id="7e8f5-128">Significato</span><span class="sxs-lookup"><span data-stu-id="7e8f5-128">Meaning</span></span> |
|-|-|
| <span data-ttu-id="7e8f5-129">**CAPSLOCK_ON** 0x0080</span><span class="sxs-lookup"><span data-stu-id="7e8f5-129">**CAPSLOCK_ON** 0x0080</span></span> | <span data-ttu-id="7e8f5-130">La luce del blocco è attiva.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-130">The CAPS LOCK light is on.</span></span> |
| <span data-ttu-id="7e8f5-131">**ENHANCED_KEY** 0x0100</span><span class="sxs-lookup"><span data-stu-id="7e8f5-131">**ENHANCED_KEY** 0x0100</span></span> | <span data-ttu-id="7e8f5-132">La chiave è stata migliorata.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-132">The key is enhanced.</span></span> <span data-ttu-id="7e8f5-133">Vedere la [sezione Osservazioni](key-event-record-str.md#remarks).</span><span class="sxs-lookup"><span data-stu-id="7e8f5-133">See [remarks](key-event-record-str.md#remarks).</span></span> |
| <span data-ttu-id="7e8f5-134">**LEFT_ALT_PRESSED** 0x0002</span><span class="sxs-lookup"><span data-stu-id="7e8f5-134">**LEFT_ALT_PRESSED** 0x0002</span></span> | <span data-ttu-id="7e8f5-135">Viene premuto il tasto ALT sinistro.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-135">The left ALT key is pressed.</span></span> |
| <span data-ttu-id="7e8f5-136">**LEFT_CTRL_PRESSED** 0x0008</span><span class="sxs-lookup"><span data-stu-id="7e8f5-136">**LEFT_CTRL_PRESSED** 0x0008</span></span> | <span data-ttu-id="7e8f5-137">Viene premuto il tasto CTRL sinistro.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-137">The left CTRL key is pressed.</span></span> |
| <span data-ttu-id="7e8f5-138">**NUMLOCK_ON** 0x0020</span><span class="sxs-lookup"><span data-stu-id="7e8f5-138">**NUMLOCK_ON** 0x0020</span></span> | <span data-ttu-id="7e8f5-139">Il BLOC NUM Light è on.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-139">The NUM LOCK light is on.</span></span> |
| <span data-ttu-id="7e8f5-140">**RIGHT_ALT_PRESSED** 0x0001</span><span class="sxs-lookup"><span data-stu-id="7e8f5-140">**RIGHT_ALT_PRESSED** 0x0001</span></span> | <span data-ttu-id="7e8f5-141">Viene premuto il tasto ALT destro.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-141">The right ALT key is pressed.</span></span> |
| <span data-ttu-id="7e8f5-142">**RIGHT_CTRL_PRESSED** 0x0004</span><span class="sxs-lookup"><span data-stu-id="7e8f5-142">**RIGHT_CTRL_PRESSED** 0x0004</span></span> | <span data-ttu-id="7e8f5-143">Viene premuto il tasto CTRL destro.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-143">The right CTRL key is pressed.</span></span> |
| <span data-ttu-id="7e8f5-144">**SCROLLLOCK_ON** 0x0040</span><span class="sxs-lookup"><span data-stu-id="7e8f5-144">**SCROLLLOCK_ON** 0x0040</span></span> | <span data-ttu-id="7e8f5-145">La luce del blocco di scorrimento è attiva.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-145">The SCROLL LOCK light is on.</span></span> |
| <span data-ttu-id="7e8f5-146">**SHIFT_PRESSED** 0x0010</span><span class="sxs-lookup"><span data-stu-id="7e8f5-146">**SHIFT_PRESSED** 0x0010</span></span> | <span data-ttu-id="7e8f5-147">Il tasto MAIUSC è premuto.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-147">The SHIFT key is pressed.</span></span> |

## <a name="remarks"></a><span data-ttu-id="7e8f5-148">Commenti</span><span class="sxs-lookup"><span data-stu-id="7e8f5-148">Remarks</span></span>

<span data-ttu-id="7e8f5-149">Le chiavi avanzate per le tastiere IBM® 101 e 102-Key sono i tasti INS, CANC, HOME, END, PGSU, PGGIÙ e Direction nei cluster a sinistra del tastierino; e la divisione (/) e immettere le chiavi nella tastiera.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-149">Enhanced keys for the IBM® 101- and 102-key keyboards are the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and direction keys in the clusters to the left of the keypad; and the divide (/) and ENTER keys in the keypad.</span></span>

<span data-ttu-id="7e8f5-150">Gli eventi di input da tastiera vengono generati quando viene premuto o rilasciato un tasto qualsiasi, incluse le chiavi del controllo.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-150">Keyboard input events are generated when any key, including control keys, is pressed or released.</span></span> <span data-ttu-id="7e8f5-151">Tuttavia, quando il tasto ALT viene premuto e rilasciato senza essere combinato con un altro carattere, ha un significato speciale per il sistema e non viene passato all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7e8f5-151">However, the ALT key when pressed and released without combining with another character, has special meaning to the system and is not passed through to the application.</span></span> <span data-ttu-id="7e8f5-152">Inoltre, la combinazione di tasti CTRL + C non viene passata se l'handle di input è in modalità elaborata (**Abilita \_ \_ input elaborato**).</span><span class="sxs-lookup"><span data-stu-id="7e8f5-152">Also, the CTRL+C key combination is not passed through if the input handle is in processed mode (**ENABLE\_PROCESSED\_INPUT**).</span></span>

## <a name="examples"></a><span data-ttu-id="7e8f5-153">Esempi</span><span class="sxs-lookup"><span data-stu-id="7e8f5-153">Examples</span></span>

<span data-ttu-id="7e8f5-154">Un esempio è disponibile in [Lettura di eventi del buffer di input](reading-input-buffer-events.md).</span><span class="sxs-lookup"><span data-stu-id="7e8f5-154">For an example, see [Reading Input Buffer Events](reading-input-buffer-events.md).</span></span>

## <a name="requirements"></a><span data-ttu-id="7e8f5-155">Requisiti</span><span class="sxs-lookup"><span data-stu-id="7e8f5-155">Requirements</span></span>

| &nbsp; | &nbsp; |
|-|-|
| <span data-ttu-id="7e8f5-156">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="7e8f5-156">Minimum supported client</span></span> | <span data-ttu-id="7e8f5-157">Windows 2000 Professional \[solo app desktop\]</span><span class="sxs-lookup"><span data-stu-id="7e8f5-157">Windows 2000 Professional \[desktop apps only\]</span></span> |
| <span data-ttu-id="7e8f5-158">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="7e8f5-158">Minimum supported server</span></span> | <span data-ttu-id="7e8f5-159">Windows 2000 Server \[solo app desktop\]</span><span class="sxs-lookup"><span data-stu-id="7e8f5-159">Windows 2000 Server \[desktop apps only\]</span></span> |
| <span data-ttu-id="7e8f5-160">Intestazione</span><span class="sxs-lookup"><span data-stu-id="7e8f5-160">Header</span></span> | <span data-ttu-id="7e8f5-161">WinConTypes. h (tramite WinCon. h, Includi Windows. h)</span><span class="sxs-lookup"><span data-stu-id="7e8f5-161">WinConTypes.h (via WinCon.h, include Windows.h)</span></span> |

## <a name="see-also"></a><span data-ttu-id="7e8f5-162">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="7e8f5-162">See also</span></span>

[<span data-ttu-id="7e8f5-163">**PeekConsoleInput**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-163">**PeekConsoleInput**</span></span>](peekconsoleinput.md)

[<span data-ttu-id="7e8f5-164">**ReadConsoleInput**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-164">**ReadConsoleInput**</span></span>](readconsoleinput.md)

[<span data-ttu-id="7e8f5-165">**WriteConsoleInput**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-165">**WriteConsoleInput**</span></span>](writeconsoleinput.md)

[<span data-ttu-id="7e8f5-166">**RECORD di INPUT \_**</span><span class="sxs-lookup"><span data-stu-id="7e8f5-166">**INPUT\_RECORD**</span></span>](input-record-str.md)