---
title: Funzione di callback HandlerRoutine
description: Funzione definita dall'applicazione utilizzata con la funzione SetConsoleCtrlHandler. Un processo della console usa questa funzione per gestire i segnali di controllo ricevuti dal processo.
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: Console, applicazioni in modalità carattere, applicazioni da riga di comando, applicazioni Terminal, API console
f1_keywords:
- consoleapi/HandlerRoutine
- wincon/HandlerRoutine
- HandlerRoutine
MS-HAID:
- '\_win32\_handlerroutine'
- base.handlerroutine
- consoles.handlerroutine
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 2e8732fa-7dfd-415b-b2fc-c27a400496f2
topic_type:
- apiref
api_name:
- HandlerRoutine
api_location:
- Wincon.h
api_type:
- UserDefined
ms.openlocfilehash: 14205baaddd98c8c22881c5f448119412e1f4a1c
ms.sourcegitcommit: b75f4688e080d300b80c552d0711fdd86b9974bf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/24/2020
ms.locfileid: "89060124"
---
# <a name="handlerroutine-callback-function"></a><span data-ttu-id="eaec2-105">Funzione di callback HandlerRoutine</span><span class="sxs-lookup"><span data-stu-id="eaec2-105">HandlerRoutine callback function</span></span>


<span data-ttu-id="eaec2-106">Funzione definita dall'applicazione utilizzata con la funzione [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) .</span><span class="sxs-lookup"><span data-stu-id="eaec2-106">An application-defined function used with the [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) function.</span></span> <span data-ttu-id="eaec2-107">Un processo della console usa questa funzione per gestire i segnali di controllo ricevuti dal processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-107">A console process uses this function to handle control signals received by the process.</span></span> <span data-ttu-id="eaec2-108">Quando viene ricevuto il segnale, il sistema crea un nuovo thread nel processo per eseguire la funzione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-108">When the signal is received, the system creates a new thread in the process to execute the function.</span></span>

<span data-ttu-id="eaec2-109">Il tipo di \*\* \_ routine PHANDLER\*\* definisce un puntatore a questa funzione di callback.</span><span class="sxs-lookup"><span data-stu-id="eaec2-109">The **PHANDLER\_ROUTINE** type defines a pointer to this callback function.</span></span> <span data-ttu-id="eaec2-110">**HandlerRoutine** è un segnaposto per il nome della funzione definita dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-110">**HandlerRoutine** is a placeholder for the application-defined function name.</span></span>

<a name="syntax"></a><span data-ttu-id="eaec2-111">Sintassi</span><span class="sxs-lookup"><span data-stu-id="eaec2-111">Syntax</span></span>
------

```C
BOOL WINAPI HandlerRoutine(
  _In_ DWORD dwCtrlType
);
```

<a name="parameters"></a><span data-ttu-id="eaec2-112">Parametri</span><span class="sxs-lookup"><span data-stu-id="eaec2-112">Parameters</span></span>
----------

<span data-ttu-id="eaec2-113">*dwCtrlType* \[ in\]</span><span class="sxs-lookup"><span data-stu-id="eaec2-113">*dwCtrlType* \[in\]</span></span>  
<span data-ttu-id="eaec2-114">Tipo di segnale di controllo ricevuto dal gestore.</span><span class="sxs-lookup"><span data-stu-id="eaec2-114">The type of control signal received by the handler.</span></span> <span data-ttu-id="eaec2-115">Questo parametro può essere uno dei valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="eaec2-115">This parameter can be one of the following values.</span></span>

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="eaec2-116">valore</span><span class="sxs-lookup"><span data-stu-id="eaec2-116">Value</span></span></th>
<th><span data-ttu-id="eaec2-117">Significato</span><span class="sxs-lookup"><span data-stu-id="eaec2-117">Meaning</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="eaec2-118"><span id="CTRL_C_EVENT"></span><span id="ctrl_c_event"></span>
<strong>CTRL_C_EVENT</strong> 0</span><span class="sxs-lookup"><span data-stu-id="eaec2-118"><span id="CTRL_C_EVENT"></span><span id="ctrl_c_event"></span>
<strong>CTRL_C_EVENT</strong> 0</span></span></td>
<td><p><span data-ttu-id="eaec2-119">È stato ricevuto un segnale CTRL + C, dall'input da tastiera o da un segnale generato dalla funzione <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a> .</span><span class="sxs-lookup"><span data-stu-id="eaec2-119">A CTRL+C signal was received, either from keyboard input or from a signal generated by the <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a> function.</span></span></p></td>
</tr>
<tr class="even">
<td><span data-ttu-id="eaec2-120"><span id="CTRL_BREAK_EVENT"></span><span id="ctrl_break_event"></span>
<strong>CTRL_BREAK_EVENT</strong> 1</span><span class="sxs-lookup"><span data-stu-id="eaec2-120"><span id="CTRL_BREAK_EVENT"></span><span id="ctrl_break_event"></span>
<strong>CTRL_BREAK_EVENT</strong> 1</span></span></td>
<td><p><span data-ttu-id="eaec2-121">È stato ricevuto un segnale CTRL + BREAK, dall'input da tastiera o da un segnale generato da <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="eaec2-121">A CTRL+BREAK signal was received, either from keyboard input or from a signal generated by <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span></span></p></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="eaec2-122"><span id="CTRL_CLOSE_EVENT"></span><span id="ctrl_close_event"></span>
<strong>CTRL_CLOSE_EVENT</strong> 2</span><span class="sxs-lookup"><span data-stu-id="eaec2-122"><span id="CTRL_CLOSE_EVENT"></span><span id="ctrl_close_event"></span>
<strong>CTRL_CLOSE_EVENT</strong> 2</span></span></td>
<td><p><span data-ttu-id="eaec2-123">Un segnale inviato dal sistema a tutti i processi collegati a una console quando l'utente chiude la console (facendo clic su <strong>Chiudi</strong> nel menu della finestra della console&#39;s o facendo clic sul pulsante <strong>Termina attività</strong> da Gestione attività).</span><span class="sxs-lookup"><span data-stu-id="eaec2-123">A signal that the system sends to all processes attached to a console when the user closes the console (either by clicking <strong>Close</strong> on the console window&#39;s window menu, or by clicking the <strong>End Task</strong> button command from Task Manager).</span></span></p></td>
</tr>
<tr class="even">
<td><span data-ttu-id="eaec2-124"><span id="CTRL_LOGOFF_EVENT"></span><span id="ctrl_logoff_event"></span>
<strong>CTRL_LOGOFF_EVENT</strong> 5</span><span class="sxs-lookup"><span data-stu-id="eaec2-124"><span id="CTRL_LOGOFF_EVENT"></span><span id="ctrl_logoff_event"></span>
<strong>CTRL_LOGOFF_EVENT</strong> 5</span></span></td>
<td><p><span data-ttu-id="eaec2-125">Segnale inviato dal sistema a tutti i processi della console quando un utente esegue la disconnessione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-125">A signal that the system sends to all console processes when a user is logging off.</span></span> <span data-ttu-id="eaec2-126">Questo segnale non indica quale utente sta effettuando la disconnessione, pertanto non è possibile effettuare supposizioni.</span><span class="sxs-lookup"><span data-stu-id="eaec2-126">This signal does not indicate which user is logging off, so no assumptions can be made.</span></span></p>
<p><span data-ttu-id="eaec2-127">Si noti che questo segnale viene ricevuto solo dai servizi.</span><span class="sxs-lookup"><span data-stu-id="eaec2-127">Note that this signal is received only by services.</span></span> <span data-ttu-id="eaec2-128">Le applicazioni interattive vengono terminate alla disconnessione, quindi non sono presenti quando il sistema invia questo segnale.</span><span class="sxs-lookup"><span data-stu-id="eaec2-128">Interactive applications are terminated at logoff, so they are not present when the system sends this signal.</span></span></p></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="eaec2-129"><span id="CTRL_SHUTDOWN_EVENT"></span><span id="ctrl_shutdown_event"></span>
<strong>CTRL_SHUTDOWN_EVENT</strong> 6</span><span class="sxs-lookup"><span data-stu-id="eaec2-129"><span id="CTRL_SHUTDOWN_EVENT"></span><span id="ctrl_shutdown_event"></span>
<strong>CTRL_SHUTDOWN_EVENT</strong> 6</span></span></td>
<td><p><span data-ttu-id="eaec2-130">Segnale inviato dal sistema alla chiusura del sistema.</span><span class="sxs-lookup"><span data-stu-id="eaec2-130">A signal that the system sends when the system is shutting down.</span></span> <span data-ttu-id="eaec2-131">Le applicazioni interattive non sono presenti nel momento in cui il sistema invia questo segnale, pertanto può essere ricevuto solo da servizi in questa situazione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-131">Interactive applications are not present by the time the system sends this signal, therefore it can be received only be services in this situation.</span></span> <span data-ttu-id="eaec2-132">I servizi hanno anche un proprio meccanismo di notifica per gli eventi di arresto.</span><span class="sxs-lookup"><span data-stu-id="eaec2-132">Services also have their own notification mechanism for shutdown events.</span></span> <span data-ttu-id="eaec2-133">Per ulteriori informazioni, vedere <a href="https://msdn.microsoft.com/library/windows/desktop/ms683240" data-raw-source="[&lt;strong&gt;Handler&lt;/strong&gt;](https://msdn.microsoft.com/library/windows/desktop/ms683240)"><strong>handler</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="eaec2-133">For more information, see <a href="https://msdn.microsoft.com/library/windows/desktop/ms683240" data-raw-source="[&lt;strong&gt;Handler&lt;/strong&gt;](https://msdn.microsoft.com/library/windows/desktop/ms683240)"><strong>Handler</strong></a>.</span></span></p>
<p><span data-ttu-id="eaec2-134">Questo segnale può essere generato anche da un'applicazione che usa <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="eaec2-134">This signal can also be generated by an application using <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span></span></p></td>
</tr>
<tr class="even">
</tr>
<tr class="odd">
</tr>
<tr class="even">
</tr>
</tbody>
</table>

 

<a name="return-value"></a><span data-ttu-id="eaec2-135">Valore restituito</span><span class="sxs-lookup"><span data-stu-id="eaec2-135">Return value</span></span>
------------

<span data-ttu-id="eaec2-136">Se la funzione gestisce il segnale di controllo, deve restituire **true**.</span><span class="sxs-lookup"><span data-stu-id="eaec2-136">If the function handles the control signal, it should return **TRUE**.</span></span> <span data-ttu-id="eaec2-137">Se restituisce **false**, viene utilizzata la funzione del gestore successiva nell'elenco dei gestori per questo processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-137">If it returns **FALSE**, the next handler function in the list of handlers for this process is used.</span></span>

<a name="remarks"></a><span data-ttu-id="eaec2-138">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="eaec2-138">Remarks</span></span>
-------

<span data-ttu-id="eaec2-139">Poiché il sistema crea un nuovo thread nel processo per eseguire la funzione del gestore, è possibile che la funzione del gestore venga terminata da un altro thread nel processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-139">Because the system creates a new thread in the process to execute the handler function, it is possible that the handler function will be terminated by another thread in the process.</span></span> <span data-ttu-id="eaec2-140">Assicurarsi di sincronizzare i thread del processo con il thread per la funzione del gestore.</span><span class="sxs-lookup"><span data-stu-id="eaec2-140">Be sure to synchronize threads in the process with the thread for the handler function.</span></span>

<span data-ttu-id="eaec2-141">Ogni processo della console dispone di un proprio elenco di funzioni **HandlerRoutine** .</span><span class="sxs-lookup"><span data-stu-id="eaec2-141">Each console process has its own list of **HandlerRoutine** functions.</span></span> <span data-ttu-id="eaec2-142">Inizialmente, questo elenco contiene solo una funzione di gestione predefinita che chiama [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658).</span><span class="sxs-lookup"><span data-stu-id="eaec2-142">Initially, this list contains only a default handler function that calls [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658).</span></span> <span data-ttu-id="eaec2-143">Un processo console consente di aggiungere o rimuovere funzioni aggiuntive del gestore chiamando la funzione [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) , che non influisce sull'elenco di funzioni del gestore per altri processi.</span><span class="sxs-lookup"><span data-stu-id="eaec2-143">A console process adds or removes additional handler functions by calling the [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) function, which does not affect the list of handler functions for other processes.</span></span> <span data-ttu-id="eaec2-144">Quando un processo della console riceve uno dei segnali di controllo, le relative funzioni di gestione vengono chiamate in base a un'ultima chiamata registrata prima che uno dei gestori restituisca **true**.</span><span class="sxs-lookup"><span data-stu-id="eaec2-144">When a console process receives any of the control signals, its handler functions are called on a last-registered, first-called basis until one of the handlers returns **TRUE**.</span></span> <span data-ttu-id="eaec2-145">Se nessuno dei gestori restituisce **true**, viene chiamato il gestore predefinito.</span><span class="sxs-lookup"><span data-stu-id="eaec2-145">If none of the handlers returns **TRUE**, the default handler is called.</span></span>

<span data-ttu-id="eaec2-146">L' \*\* \_ \_ evento CTRL Close**, **l' \_ \_ evento di disconnessione CTRL**e i segnali \*\* \_ \_ evento di chiusura CTRL** consentono al processo di eseguire la pulizia prima della terminazione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-146">The **CTRL\_CLOSE\_EVENT**, **CTRL\_LOGOFF\_EVENT**, and **CTRL\_SHUTDOWN\_EVENT** signals give the process an opportunity to clean up before termination.</span></span> <span data-ttu-id="eaec2-147">Un **HandlerRoutine** può eseguire tutte le operazioni di pulizia necessarie, quindi eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="eaec2-147">A **HandlerRoutine** can perform any necessary cleanup, then take one of the following actions:</span></span>

- <span data-ttu-id="eaec2-148">Chiamare la funzione [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) per terminare il processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-148">Call the [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) function to terminate the process.</span></span>
- <span data-ttu-id="eaec2-149">Restituisce **false**.</span><span class="sxs-lookup"><span data-stu-id="eaec2-149">Return **FALSE**.</span></span> <span data-ttu-id="eaec2-150">Se nessuna delle funzioni del gestore registrate restituisce **true**, il gestore predefinito termina il processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-150">If none of the registered handler functions returns **TRUE**, the default handler terminates the process.</span></span>
- <span data-ttu-id="eaec2-151">Restituisce **true**.</span><span class="sxs-lookup"><span data-stu-id="eaec2-151">Return **TRUE**.</span></span> <span data-ttu-id="eaec2-152">In questo caso, non vengono chiamate altre funzioni del gestore e il sistema termina il processo.</span><span class="sxs-lookup"><span data-stu-id="eaec2-152">In this case, no other handler functions are called and the system terminates the process.</span></span>

<span data-ttu-id="eaec2-153">Un processo può utilizzare la funzione [**SetProcessShutdownParameters**](https://msdn.microsoft.com/library/windows/desktop/ms686227) per impedire al sistema di visualizzare una finestra di dialogo all'utente durante la disconnessione o l'arresto.</span><span class="sxs-lookup"><span data-stu-id="eaec2-153">A process can use the [**SetProcessShutdownParameters**](https://msdn.microsoft.com/library/windows/desktop/ms686227) function to prevent the system from displaying a dialog box to the user during logoff or shutdown.</span></span> <span data-ttu-id="eaec2-154">In questo caso, il sistema termina il processo quando **HandlerRoutine** restituisce **true** o quando scade il periodo di timeout.</span><span class="sxs-lookup"><span data-stu-id="eaec2-154">In this case, the system terminates the process when **HandlerRoutine** returns **TRUE** or when the time-out period elapses.</span></span>

<span data-ttu-id="eaec2-155">Quando un'applicazione console viene eseguita come servizio, riceve un gestore di controllo della console predefinito modificato.</span><span class="sxs-lookup"><span data-stu-id="eaec2-155">When a console application is run as a service, it receives a modified default console control handler.</span></span> <span data-ttu-id="eaec2-156">Questo gestore modificato non chiama [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) durante l'elaborazione dell' \*\* \_ \_ evento di disconnessione CTRL\*\* e dei segnali di **chiusura dell' \_ \_ evento CTRL** .</span><span class="sxs-lookup"><span data-stu-id="eaec2-156">This modified handler does not call [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) when processing the **CTRL\_LOGOFF\_EVENT** and **CTRL\_SHUTDOWN\_EVENT** signals.</span></span> <span data-ttu-id="eaec2-157">Ciò consente al servizio di continuare l'esecuzione dopo che l'utente si disconnette.</span><span class="sxs-lookup"><span data-stu-id="eaec2-157">This allows the service to continue running after the user logs off.</span></span> <span data-ttu-id="eaec2-158">Se il servizio installa il proprio gestore di controllo della console, questo gestore viene chiamato prima del gestore predefinito.</span><span class="sxs-lookup"><span data-stu-id="eaec2-158">If the service installs its own console control handler, this handler is called before the default handler.</span></span> <span data-ttu-id="eaec2-159">Se il gestore installato chiama **ExitProcess** durante l'elaborazione del segnale dell' \*\* \_ \_ evento di disconnessione CTRL\*\* , il servizio viene chiuso quando l'utente si disconnette.</span><span class="sxs-lookup"><span data-stu-id="eaec2-159">If the installed handler calls **ExitProcess** when processing the **CTRL\_LOGOFF\_EVENT** signal, the service exits when the user logs off.</span></span>

<span data-ttu-id="eaec2-160">Si noti che una libreria o una DLL di terze parti può installare un gestore di controllo della console per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="eaec2-160">Note that a third-party library or DLL can install a console control handler for your application.</span></span> <span data-ttu-id="eaec2-161">In caso contrario, questo gestore esegue l'override del gestore predefinito e può causare la chiusura dell'applicazione quando l'utente si disconnette.</span><span class="sxs-lookup"><span data-stu-id="eaec2-161">If it does, this handler overrides the default handler, and can cause the application to exit when the user logs off.</span></span>

## <a name="timeouts"></a><span data-ttu-id="eaec2-162">Timeout</span><span class="sxs-lookup"><span data-stu-id="eaec2-162">Timeouts</span></span>

| <span data-ttu-id="eaec2-163">Event</span><span class="sxs-lookup"><span data-stu-id="eaec2-163">Event</span></span>                  | <span data-ttu-id="eaec2-164">Circostanze</span><span class="sxs-lookup"><span data-stu-id="eaec2-164">Circumstances</span></span>                   | <span data-ttu-id="eaec2-165">Timeout</span><span class="sxs-lookup"><span data-stu-id="eaec2-165">Timeout</span></span>                                                     |
|------------------------|---------------------------------|-------------------------------------------------------------|
| `CTRL_CLOSE_EVENT`     | <span data-ttu-id="eaec2-166">_qualsiasi_</span><span class="sxs-lookup"><span data-stu-id="eaec2-166">_any_</span></span>                           | <span data-ttu-id="eaec2-167">parametro `SPI_GETHUNGAPPTIMEOUT` di sistema, 5000 ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-167">system parameter `SPI_GETHUNGAPPTIMEOUT`, 5000ms</span></span>            |
| `CTRL_LOGOFF_EVENT`    | <span data-ttu-id="eaec2-168">_rapido_[1]</span><span class="sxs-lookup"><span data-stu-id="eaec2-168">_quick_[1]</span></span> | <span data-ttu-id="eaec2-169">chiave del registro di sistema `CriticalAppShutdownTimeout` o 500 ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-169">registry key `CriticalAppShutdownTimeout` or 500ms</span></span>          |
| `CTRL_LOGOFF_EVENT`    | <span data-ttu-id="eaec2-170">_nessuno dei precedenti_</span><span class="sxs-lookup"><span data-stu-id="eaec2-170">_none of the above_</span></span>             | <span data-ttu-id="eaec2-171">parametro `SPI_GETWAITTOKILLTIMEOUT` di sistema, 5000 ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-171">system parameter `SPI_GETWAITTOKILLTIMEOUT`, 5000ms</span></span>         |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="eaec2-172">**processo del servizio**</span><span class="sxs-lookup"><span data-stu-id="eaec2-172">**service process**</span></span>             | <span data-ttu-id="eaec2-173">parametro `SPI_GETWAITTOKILLSERVICETIMEOUT` di sistema, 20000ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-173">system parameter `SPI_GETWAITTOKILLSERVICETIMEOUT`, 20000ms</span></span> |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="eaec2-174">_rapido_[1]</span><span class="sxs-lookup"><span data-stu-id="eaec2-174">_quick_[1]</span></span> | <span data-ttu-id="eaec2-175">chiave del registro di sistema `CriticalAppShutdownTimeout` o 500 ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-175">registry key `CriticalAppShutdownTimeout` or 500ms</span></span>          |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="eaec2-176">_nessuno dei precedenti_</span><span class="sxs-lookup"><span data-stu-id="eaec2-176">_none of the above_</span></span>             | <span data-ttu-id="eaec2-177">parametro `SPI_GETWAITTOKILLTIMEOUT` di sistema, 5000 ms</span><span class="sxs-lookup"><span data-stu-id="eaec2-177">system parameter `SPI_GETWAITTOKILLTIMEOUT`, 5000ms</span></span>         |
| <span data-ttu-id="eaec2-178">`CTRL_C`, `CTRL_BREAK`</span><span class="sxs-lookup"><span data-stu-id="eaec2-178">`CTRL_C`, `CTRL_BREAK`</span></span> | <span data-ttu-id="eaec2-179">_qualsiasi_</span><span class="sxs-lookup"><span data-stu-id="eaec2-179">_any_</span></span>                           | <span data-ttu-id="eaec2-180">**Nessun timeout**</span><span class="sxs-lookup"><span data-stu-id="eaec2-180">**no timeout**</span></span>                                              |

<span data-ttu-id="eaec2-181">_[1]: gli eventi "rapidi" non vengono mai usati, ma è ancora disponibile codice per supportarli._</span><span class="sxs-lookup"><span data-stu-id="eaec2-181">_[1]: "quick" events are never used, but there's still code to support them._</span></span>

<a name="requirements"></a><span data-ttu-id="eaec2-182">Requisiti</span><span class="sxs-lookup"><span data-stu-id="eaec2-182">Requirements</span></span>
------------

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><span data-ttu-id="eaec2-183">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="eaec2-183">Minimum supported client</span></span></p></td>
<td><p><span data-ttu-id="eaec2-184">Windows 2000 Professional [solo app desktop]</span><span class="sxs-lookup"><span data-stu-id="eaec2-184">Windows 2000 Professional [desktop apps only]</span></span></p></td>
</tr>
<tr class="even">
<td><p><span data-ttu-id="eaec2-185">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="eaec2-185">Minimum supported server</span></span></p></td>
<td><p><span data-ttu-id="eaec2-186">Windows 2000 Server [solo app desktop]</span><span class="sxs-lookup"><span data-stu-id="eaec2-186">Windows 2000 Server [desktop apps only]</span></span></p></td>
</tr>
<tr class="odd">
<td><p><span data-ttu-id="eaec2-187">Intestazione</span><span class="sxs-lookup"><span data-stu-id="eaec2-187">Header</span></span></p></td>
<td><span data-ttu-id="eaec2-188">ConsoleApi. h (tramite wincon. h, Includi Windows. h)</span><span class="sxs-lookup"><span data-stu-id="eaec2-188">ConsoleApi.h (via Wincon.h, include Windows.h)</span></span></td>
</tr>
</tbody>
</table>

## <a name="span-idsee_alsospansee-also"></a><span data-ttu-id="eaec2-189"><span id="see_also"></span>Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eaec2-189"><span id="see_also"></span>See also</span></span>


[<span data-ttu-id="eaec2-190">Gestori di controlli console</span><span class="sxs-lookup"><span data-stu-id="eaec2-190">Console Control Handlers</span></span>](console-control-handlers.md)

[<span data-ttu-id="eaec2-191">Funzioni console</span><span class="sxs-lookup"><span data-stu-id="eaec2-191">Console Functions</span></span>](console-functions.md)

[<span data-ttu-id="eaec2-192">**ExitProcess**</span><span class="sxs-lookup"><span data-stu-id="eaec2-192">**ExitProcess**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms682658)

[<span data-ttu-id="eaec2-193">**GenerateConsoleCtrlEvent**</span><span class="sxs-lookup"><span data-stu-id="eaec2-193">**GenerateConsoleCtrlEvent**</span></span>](generateconsolectrlevent.md)

[<span data-ttu-id="eaec2-194">**GetProcessShutdownParameters**</span><span class="sxs-lookup"><span data-stu-id="eaec2-194">**GetProcessShutdownParameters**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms683221)

[<span data-ttu-id="eaec2-195">**SetConsoleCtrlHandler**</span><span class="sxs-lookup"><span data-stu-id="eaec2-195">**SetConsoleCtrlHandler**</span></span>](setconsolectrlhandler.md)

[<span data-ttu-id="eaec2-196">**SetProcessShutdownParameters**</span><span class="sxs-lookup"><span data-stu-id="eaec2-196">**SetProcessShutdownParameters**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms686227)

 

 




